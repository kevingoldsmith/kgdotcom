<!DOCTYPE html>
<html class="no-js">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>$title</title>
    <meta name="description" content="a list of talks, panels and workshops by $author">
    <meta name="author" content="$author">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="$googsiteverification" />
	<link rel="canonical" href="https://kevingoldsmith.com/talks/" />

    <!-- Google ownership links -->
    <link rel="author" href="$googauthor"/>
    <link rel="publisher" href="$googpublisher" />

    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
	<link rel="dns-prefetch" href="https://ajax.googleapis.com" />
	<link rel="dns-prefetch" href="https://fonts.gstatic.com" />
	<link rel="dns-prefetch" href="https://google-analytics.com" />

	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab" />
    <link rel="stylesheet" href="../css/main.css" />
	<link rel="stylesheet" href="talkpages.css" />
	<style>
		body {
			margin: 0;
		}
		.talk-description {
			font-weight: 300;
			font-size: .9em;
			margin-bottom: 1em;
		}
		#featured-talks ul {
			list-style: none;
			padding-left: 1em;
		}
		#featured-talks .talk-title {
			font-weight: 800;
		}
		#upcoming-talks ul {
			list-style: none;
			padding-left: 1em;
		}
		.year-list {
			list-style: none;
			padding-left: 1em;
		}
		.year {
			font-size: 1.2em;
		}
		.year-item {
			padding-bottom: 1em;
		}
		.year-item ul {
			list-style: none;
			padding-left: 0em;
		}
		.panel-list {
			padding-left: 1em;
		}
		.panel-list .talk-title {
			font-weight: 600;
		}
		.workshop-list {
			padding-left: 1em;
		}
		.workshop-list .talk-title {
			font-weight: 600;
		}
		#map_wrapper {
			height: 400px;
			margin-top: 1em;
    		margin-bottom: 1em;
		}
		#map_canvas {
		    width: 100%;
		    height: 100%;
		}

       /* iPhone portrait */
        @media (max-device-width: 640px) {
			#map_wrapper {
				height: 300px;
			}
        }

	</style>
	<!-- thanks to Ian Wright for the Mapping stuff https://wrightshq.com/playground/placing-multiple-markers-on-a-google-map-using-api-3/ -->
</head>
<body>
	<header id="header">
        <div id="name"><a href="$siteroot">Kevin Goldsmith</a></div>
		<nav id="site-nav">
			<ul>
                $sitenav
			</ul>
		</nav>
	</header>
	<main id="content">
		<div id="map_wrapper">
	    	<div id="map_canvas" class="mapping"></div>
		</div>
		$futuretalks
		<section id="featured-talks">
			<h2>Current Talks</h2>
			<ul>
				$currenttalklist
			</ul>
		</section>
		<section id="other-talks">
			<h2>Older Talks</h2>
			<ul class="year-list">
				$othertalklist
			</ul>
		</section>
		<section id="panels">
			<h2>Panels</h2>
			<ul class="panel-list">
				$panellist
			</ul>
		</section>
		<section id="workshops">
			<h2>Workshops</h2>
			<ul class="workshop-list">
				$workshoplist
			</ul>
		</section>
	<!-- end #mainContent -->
	</main>
	<footer>
		kevingoldsmith.com
	</footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="../js/googleevents.js"></script>
	<script type="text/javascript">
		jQuery(function($$) {
		    // Asynchronously Load the map API
		    // $$$$ gets escapted to a single $$ in string template
		    var script = document.createElement('script');
		    script.src = "https://maps.googleapis.com/maps/api/js?sensor=false&callback=initialize";
		    document.body.appendChild(script);
		});

		function initialize() {
		    var map;
		    var bounds = new google.maps.LatLngBounds();
		    var mapOptions = {
		        mapTypeId: 'roadmap'
		    };

		    // Display a map on the page
		    map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
		    map.setTilt(45);

		    // Multiple Markers
		    var markers = [
		        $markerlist
		    ];

		    // Info Window Content
		    var infoWindowContent = [
		        $infolist
		    ];

		    // Display multiple markers on a map
		    var infoWindow = new google.maps.InfoWindow(), marker, i;

		    // Loop through our array of markers & place each one on the map
		    for( i = 0; i < markers.length; i++ ) {
		        var position = new google.maps.LatLng(markers[i][1], markers[i][2]);
		        bounds.extend(position);
		        marker = new google.maps.Marker({
		            position: position,
		            map: map,
		            title: markers[i][0]
		        });

		        // Allow each marker to have an info window
		        google.maps.event.addListener(marker, 'click', (function(marker, i) {
		            return function() {
		                infoWindow.setContent(infoWindowContent[i][0]);
		                infoWindow.open(map, marker);
		            }
		        })(marker, i));

		        // Automatically center the map fitting all markers on the screen
		        map.fitBounds(bounds);
		    }

		    // Override our map zoom level once our fitBounds function runs (Make sure it only runs once)
		    var boundsListener = google.maps.event.addListener((map), 'bounds_changed', function(event) {
		        //this.setZoom(14);
		        google.maps.event.removeListener(boundsListener);
		    });
		}
	</script>
</body>
</html>